{% layout none %}
{
  "product": {
    "available": {{ product.available }},
    "collections": [
      {% for collection in product.collections %}
        {
          "description": "{{ collection.description | escape }}",
          "handle": "{{ collection.handle }}",
          "id": "{{ collection.id }}",
          "image": "{{ collection.image }}",
          "imageSrc": "{{ collection.image.src }}",
          "products": [
            {% for collectionProduct in collection.products %}
              {
                "available": {{ collectionProduct.available }},
                "compareAtPriceMax": "{{ collectionProduct.compare_at_price_max }}",
                "compareAtPriceMin": "{{ collectionProduct.compare_at_price_min }}",
                "compareAtPriceVaries": "{{ collectionProduct.compare_at_price_varies }}",
                "content": "{{ collectionProduct.content | escape }}",
                "description": "{{ collectionProduct.description | escape }}",
                "featuredImage": "{{ collectionProduct.featured_image }}",
                "firstAvailableVariant": {
                  "available": {{ collectionProduct.first_available_variant.available }},
                  "barcode": "{{ collectionProduct.first_available_variant.barcode }}",
                  "compareAtPrice": "{{ collectionProduct.first_available_variant.compare_at_price }}",
                  "id": "{{ collectionProduct.first_available_variant.id }}",
                  "image": "{{ collectionProduct.first_available_variant.image.src }}",
                  "inventoryManagement": "{{ collectionProduct.first_available_variant.inventory_management }}",
                  "inventoryPolicy": "{{ collectionProduct.first_available_variant.inventory_policy }}",
                  "inventoryQuantity": "{{ collectionProduct.first_available_variant.inventory_quantity }}",
                  "option1": "{{ collectionProduct.first_available_variant.option1 }}",
                  "option2": "{{ collectionProduct.first_available_variant.option2 }}",
                  "option3": "{{ collectionProduct.first_available_variant.option3 }}",
                  "price": "{{ collectionProduct.first_available_variant.price }}",
                  "selected": "{{ collectionProduct.first_available_variant.selected }}",
                  "sku": "{{ collectionProduct.first_available_variant.sku }}",
                  "title": "{{ collectionProduct.first_available_variant.title }}",
                  "url": "{{ collectionProduct.first_available_variant.url }}",
                  "weight": "{{ collectionProduct.first_available_variant.weight }}",
                  "weightUnit": "{{ collectionProduct.first_available_variant.weight_unit }}",
                  "weightInUnit": "{{ collectionProduct.first_available_variant.weight_in_unit }}"
                },
                "handle": "{{ collectionProduct.handle }}",
                "id": "{{ collectionProduct.id }}",
                "images": [
                  {% for image in collectionProduct.images %}
                    {
                      "alt": "{{ image.alt }}",
                      "attached_to_variant": "{{ image.attached_to_variant }}",
                      "id": "{{ image.id }}",
                      "product_id": "{{ image.product_id }}",
                      "position": "{{ image.position }}",
                      "src": "{{ image.src }}",
                      "variants": "{{ image.variants }}"
                    }{% unless forloop.last == true %},{% endunless %}
                  {% endfor %}
                ],
                "optionsSize": "{{ collectionProduct.options | size }}",
                "options": [
                  {% for option in collectionProduct.options %}
                    "{{ option }}"{% unless forloop.last %},{% endunless %}
                  {% endfor %}
                ],
                "price": "{{ collectionProduct.price }}",
                "priceMax": "{{ collectionProduct.price_max }}",
                "priceMin": "{{ collectionProduct.price_min }}",
                "priceVaries": "{{ collectionProduct.price_varies }}",
                "selectedVariant": "{{ collectionProduct.selected_variant }}",
                "selectedOrFirstAvailableVariant": "{{ collectionProduct.selected_or_first_available_variant }}",
                "tags": [
                  {% for tag in collectionProduct.tags %}
                    "{{ tag }}"{% unless forloop.last %},{% endunless %}
                  {% endfor %}
                ],
                "templateSuffix": "{{ collectionProduct.template_suffix }}",
                "title": "{{ collectionProduct.title }}",
                "type": "{{ collectionProduct.type }}",
                "url": "{{ collectionProduct.url }}",
                "variants": [
                  {% for variant in collectionProduct.variants %}
                    {
                      "available": {{ variant.available }},
                      "barcode": "{{ variant.barcode }}",
                      "compareAtPrice": "{{ variant.compare_at_price }}",
                      "id": "{{ variant.id }}",
                      "image": "{{ variant.image.src }}",
                      "inventoryManagement": "{{ variant.inventory_management }}",
                      "inventoryPolicy": "{{ variant.inventory_policy }}",
                      "inventoryQuantity": "{{ variant.inventory_quantity }}",
                      "option1": "{{ variant.option1 }}",
                      "option2": "{{ variant.option2 }}",
                      "option3": "{{ variant.option3 }}",
                      "price": "{{ variant.price }}",
                      "selected": "{{ variant.selected }}",
                      "sku": "{{ variant.sku }}",
                      "title": "{{ variant.title }}",
                      "url": "{{ variant.url }}",
                      "weight": "{{ variant.weight }}",
                      "weightUnit": "{{ variant.weight_unit }}",
                      "weightInUnit": "{{ variant.weight_in_unit }}"
                    }{% unless forloop.last %},{% endunless %}
                  {% endfor %}
                ],
                "vendor": "{{ collectionProduct.vendor }}"
              }{% unless forloop.last == true %},{% endunless %}
            {% endfor %}
          ],
          "productsCount": {{ collection.products_count }},
          "title": "{{ collection.title }}",
          "tags": "{{ collection.tags }}",
          "url": "{{ collection.url }}"
        }{% unless forloop.last == true %},{% endunless %}
      {% endfor %}
    ],
    "compareAtPriceMax": "{{ product.compare_at_price_max }}",
    "compareAtPriceMin": "{{ product.compare_at_price_min }}",
    "compareAtPriceVaries": "{{ product.compare_at_price_varies }}",
    "content": "{{ product.content | escape }}",
    "description": "{{ product.description | escape }}",
    "featuredImage": "{{ product.featured_image }}",
    "firstAvailableVariant": {
      "available": {{ product.first_available_variant.available }},
      "barcode": "{{ product.first_available_variant.barcode }}",
      "compareAtPrice": "{{ product.first_available_variant.compare_at_price }}",
      "id": "{{ product.first_available_variant.id }}",
      "image": "{{ product.first_available_variant.image.src }}",
      "inventoryManagement": "{{ product.first_available_variant.inventory_management }}",
      "inventoryPolicy": "{{ product.first_available_variant.inventory_policy }}",
      "inventoryQuantity": "{{ product.first_available_variant.inventory_quantity }}",
      "option1": "{{ product.first_available_variant.option1 }}",
      "option2": "{{ product.first_available_variant.option2 }}",
      "option3": "{{ product.first_available_variant.option3 }}",
      "price": "{{ product.first_available_variant.price }}",
      "selected": "{{ product.first_available_variant.selected }}",
      "sku": "{{ product.first_available_variant.sku }}",
      "title": "{{ product.first_available_variant.title }}",
      "url": "{{ product.first_available_variant.url }}",
      "weight": "{{ product.first_available_variant.weight }}",
      "weightUnit": "{{ product.first_available_variant.weight_unit }}",
      "weightInUnit": "{{ product.first_available_variant.weight_in_unit }}"
    },
    "handle": "{{ product.handle }}",
    "id": "{{ product.id }}",
    "images": [
      {% for image in product.images %}
        {
          "alt": "{{ image.alt }}",
          "attached_to_variant": "{{ image.attached_to_variant }}",
          "id": "{{ image.id }}",
          "product_id": "{{ image.product_id }}",
          "position": "{{ image.position }}",
          "src": "{{ image.src }}",
          "variants": "{{ image.variants }}"
        }{% unless forloop.last == true %},{% endunless %}
      {% endfor %}
    ],
    "optionsSize": "{{ product.options | size }}",
    "options": [
      {% for option in product.options %}
        "{{ option }}"{% unless forloop.last %},{% endunless %}
      {% endfor %}
    ],
    "price": "{{ product.price }}",
    "priceMax": "{{ product.price_max }}",
    "priceMin": "{{ product.price_min }}",
    "priceVaries": "{{ product.price_varies }}",
    "selectedVariant": "{{ product.selected_variant }}",
    "selectedOrFirstAvailableVariant": "{{ product.selected_or_first_available_variant }}",
    "tags": [
      {% for tag in product.tags %}
        "{{ tag }}"{% unless forloop.last %},{% endunless %}
      {% endfor %}
    ],
    "templateSuffix": "{{ product.template_suffix }}",
    "title": "{{ product.title }}",
    "type": "{{ product.type }}",
    "url": "{{ product.url }}",
    "variants": [
      {% for variant in product.variants %}
        {
          "available": {{ variant.available }},
          "barcode": "{{ variant.barcode }}",
          "compareAtPrice": "{{ variant.compare_at_price }}",
          "id": "{{ variant.id }}",
          "image": "{{ variant.image.src }}",
          "inventoryManagement": "{{ variant.inventory_management }}",
          "inventoryPolicy": "{{ variant.inventory_policy }}",
          "inventoryQuantity": "{{ variant.inventory_quantity }}",
          "option1": "{{ variant.option1 }}",
          "option2": "{{ variant.option2 }}",
          "option3": "{{ variant.option3 }}",
          "price": "{{ variant.price }}",
          "selected": "{{ variant.selected }}",
          "sku": "{{ variant.sku }}",
          "title": "{{ variant.title }}",
          "url": "{{ variant.url }}",
          "weight": "{{ variant.weight }}",
          "weightUnit": "{{ variant.weight_unit }}",
          "weightInUnit": "{{ variant.weight_in_unit }}"
        }{% unless forloop.last %},{% endunless %}
      {% endfor %}
    ],
    "vendor": "{{ product.vendor }}"
  }
}
